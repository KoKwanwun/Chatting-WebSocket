<!DOCTYPE html>
<html>
<head>
  <title>WebSocket 채팅</title>
  <link rel="stylesheet" href="/css/styles.css"> <!-- CSS 파일 링크 -->
</head>
<body>
<div class="container">
  <h2>친구추가</h2>

  <form class="" onsubmit="return false;">
    <div class="label-input">
      <label for="loginId">아이디</label>
      <input style="margin-right: 20px" type="loginId" id="loginId" name="loginId" required>
    </div><br>

    <input id="signup" style="background-color: #4285F4;" type="submit" value="친구추가" onclick="addFriend(); return false;"><br><br>
  </form>

  <button style="background-color: #CC6600;" onclick="history.back()">뒤로가기</button>
</div>

<!-- CSS 파일 링크 등 필요한 리소스를 추가하세요 -->

<script src="/js/axios.js"></script>
<script>
  const config = {"Content-Type" : `application/json` };

  // 친구추가 요청
  async function addFriend() {
    let loginId = document.getElementById('loginId').value;

    if (loginId == "") {
      alert("친구 아이디를 입력해주세요.")
    } else {
      try {
        const response = await axios.post('/api/v1/friend/add', {"loginId": loginId}, config);
        alert("친구 추가를 성공했습니다.")
      } catch (e) {
        alert(e.response.data.result.message)
      }
    }
  }
</script>
</body>
</html>